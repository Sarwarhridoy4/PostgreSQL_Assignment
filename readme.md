# ЁЯУШ PostgreSQL Assignment

## ржкрж╛ржБржЪржЯрж┐ ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ржпрж╝ ржжрзЗржУржпрж╝рж╛ рж╣рж▓ред

## тЭУ PostgreSQL ржХрзА?

PostgreSQL рж╣рж▓рзЛ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржПржмржВ ржПржХрзЗржмрж╛рж░рзЗ ржлрзНрж░рж┐ ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (RDBMS)ред рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝ ржмрж▓рждрзЗ ржЧрзЗрж▓рзЗ, ржПржЯрж┐ ржПржоржи ржПржХржЯрж┐ рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░ ржпрзЗржЯрж╛ рждрзЛржорж╛рж░ ржЕрзНржпрж╛ржк ржмрж╛ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗрж░ ржбрзЗржЯрж╛ржЧрзБрж▓рзЛ (ржпрзЗржоржи ржЗржЙржЬрж╛рж░ ржЗржиржлрзЛ, ржЕрж░рзНржбрж╛рж░, ржкрзЛрж╕рзНржЯ, ржХржорзЗржирзНржЯ ржЗрждрзНржпрж╛ржжрж┐) рж╕рж┐рж╕рзНржЯрзЗржорзЗржЯрж┐ржХржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржПржмржВ ржпржЦржи ржжрж░ржХрж╛рж░ рж╣ржпрж╝, ржарж┐ржХ рждржЦржиржЗ рждрж╛ ржЦрзБржБржЬрзЗ ржПржирзЗ ржжрзЗржпрж╝ред

- ржПржЯрж┐ SQL ржнрж╛рж╖рж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрзЗржЯрж╛рж░ рж╕ржЩрзНржЧрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржпрзЗржоржи:

- ржирждрзБржи рждржерзНржп рж╕ржВрж░ржХрзНрж╖ржг (INSERT),

- ржкрзБрж░рзЛржирзЛ рждржерзНржп ржжрзЗржЦрж╛ (SELECT),

- рждржерзНржп ржЖржкржбрзЗржЯ ржмрж╛ ржкрж░рж┐ржмрж░рзНрждржи (UPDATE),

- ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ рждржерзНржп ржорзБржЫрзЗ ржлрзЗрж▓рж╛ (DELETE)ред

PostgreSQL ржЕржирзЗржХ ржмрзЬ ржмрзЬ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯ ржХрж╛рж░ржг ржПржЯрж┐:

тЪб ржЦрзБржм ржжрзНрж░рзБржд ржУ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА тАФ ржмрж┐рж╢рж╛рж▓ ржбрзЗржЯрж╛рж░ рж╕ржЩрзНржЧрзЗржУ рж╕рж╣ржЬрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ЁЯФР ржирж┐рж░рж╛ржкржж тАФ ржЗржЙржЬрж╛рж░ ржкрж╛рж░ржорж┐рж╢ржи, ржПржиржХрзНрж░рж┐ржкрж╢ржи ржЗрждрзНржпрж╛ржжрж┐ рж╕ржорж░рзНржержи ржХрж░рзЗред

ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж ржПржХрж╕рж╛ржерзЗ ржЕржирзЗржХ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ ржЫрж╛ржбрж╝рж╛ржЗред

тЬЕ ржкрзБрж░рзЛржкрзБрж░рж┐ ACID-compliant, ржорж╛ржирзЗ ржбрзЗржЯрж╛рж░ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпрждрж╛ ржУ рж╕рзНржерж╛ржпрж╝рж┐рждрзНржм ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрзЗред

ЁЯФМ ржПржХрзНрж╕ржЯрзЗржирж╢ржи ржмрж╛ ржкрзНрж▓рж╛ржЧржЗржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржирждрзБржи ржлрж┐ржЪрж╛рж░ рж╕рж╣ржЬрзЗржЗ ржпрзБржХрзНржд ржХрж░рж╛ ржпрж╛ржпрж╝ред

ЁЯза ржХрж╛рж╕рзНржЯржо ржлрж╛ржВрж╢ржи ржмрж╛ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝, ржпрж╛ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж╛рж░ржжрзЗрж░ ржЬржирзНржп ржжрж╛рж░рзБржг рж╕рзБржмрж┐ржзрж╛ржЬржиржХред

## ржХрзЛржерж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝?

PostgreSQL-ржПрж░ ржмрзНржпржмрж╣рж╛рж░ ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ ржЕржирзЗржХ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝:

ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржкрзЗрж░ ржмрзНржпрж╛ржХржПржирзНржб (ржпрзЗржоржи: eCommerce, social media, blogs),

ржмржбрж╝ ржХрзЛржорзНржкрж╛ржирж┐рж░ ржбрзЗржЯрж╛ ржЕрзНржпрж╛ржирж╛рж▓рж┐ржЯрж┐ржХрзНрж╕ ржУ рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржорзЗ,

ржЧрзНрж▓рзЛржмрж╛рж▓ ржорзНржпрж╛ржк ржмрж╛ рж▓рзЛржХрзЗрж╢ржи-ржнрж┐рждрзНрждрж┐ржХ ржЕрзНржпрж╛ржкрж╕ (PostGIS-ржПрж░ ржорж╛ржзрзНржпржорзЗ),

ржПржоржиржХрж┐ ржЕржирзЗржХ ржорзЛржмрж╛ржЗрж▓ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗржУред

## ржХрзЗржи PostgreSQL?

 ржЖржкржирж┐ ржпржжрж┐ ржПржоржи ржХрж┐ржЫрзБ рждрзИрж░рж┐ ржХрж░рждрзЗ ржЪрж╛ржи ржпрзЗржЯрж╛ ржмрзЬ рж╣ржмрзЗ, ржмрж╣рзБ ржЗржЙржЬрж╛рж░ ржПржХрж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ, ржЖрж░ рж╕рзЗржЯрж╛рж░ ржбрзЗржЯрж╛ ржЕржирзЗржХ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг тАФ рждрж╛рж╣рж▓рзЗ PostgreSQL ржПржХржжржо ржЙржкржпрзБржХрзНрждред ржХрж╛рж░ржг ржПржЯрж┐ ржлрзНрж░рж┐, ржУржкрзЗржи-рж╕рзЛрж░рзНрж╕, ржирж┐рж░рж╛ржкржж ржПржмржВ ржмрж╛рж░ржмрж╛рж░ ржкрзНрж░ржорж╛ржгрж┐ржд рж╣ржпрж╝рзЗржЫрзЗ ржПрж░ рж╕рзНржерж╛ржпрж╝рж┐рждрзНржм ржЖрж░ ржХрж░рзНржоржжржХрзНрж╖рждрж╛рж░ ржорж╛ржзрзНржпржорзЗред

## тЭУЁЯФС Primary Key (ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐) тАУ ржПржХржЯрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░

ржЖржорж░рж╛ ржпржЦржи ржХрзЛржирзЛ рждржерзНржп ржмрж╛ ржбрзЗржЯрж╛ ржЯрзЗржмрж┐рж▓рзЗ ржЬржорж╛ рж░рж╛ржЦрж┐, рждржЦржи рж╕рзЗржЗ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржб ржпрзЗржи ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржЪрзЗржирж╛ ржпрж╛ржпрж╝ тАУ рж╕рзЗржЯрж╛ржЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ Primary Keyред

### ЁЯзН ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржгрзЗ ржжрзЗржЦрж╛ ржпрж╛ржХ:

ржзрж░рзБржи ржЖржкржирж╛рж░ рж╕рзНржХрзБрж▓рзЗ ржкрзНрж░рждрзНржпрзЗржХ ржЫрж╛рждрзНрж░ржХрзЗ ржПржХржЯрж╛ рж░рзЛрж▓ ржиржорзНржмрж░ ржжрзЗржпрж╝рж╛ рж╣ржпрж╝ред рж╕рзЗржЗ рж░рзЛрж▓ ржиржорзНржмрж░ ржХрж╛рж░ржУ рж╕ржЩрзНржЧрзЗ ржорзЗрж▓рзЗ ржирж╛ тАУ ржПржХржжржо ржЗржЙржирж┐ржХред ржПржЯрж╛ ржжрж┐ржпрж╝рзЗржЗ ржЖржорж░рж╛ ржЬрж╛ржирж┐ ржХрзЗ ржХрзЗ ржЖржЫрзЗред
ржарж┐ржХ рждрзЗржоржирж┐, ржбрзЗржЯрж╛ржмрзЗржЗрж╕рзЗ ржПржХржЯрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЛ ржмрж╛ рждржерзНржпржХрзЗ ржЖрж▓рж╛ржжрж╛ ржЪрзЗржирж╛ржирзЛрж░ ржЬржирзНржп ржпрзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝, рж╕рзЗржЯрж╛ржЗ рж╣рж▓рзЛ Primary Keyред

#### тнР ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЧрзБрж▓рзЛ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

ржПржЯрж╛ ржПржХрзЗржХ рж░рзЗржХрж░рзНржбржХрзЗ ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржЪрж┐ржирждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ

- ржХржЦржиржУ ржлрж╛ржБржХрж╛ (null) рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛

- ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржорж╛рждрзНрж░ ржПржХржЯрж┐ Primary Key ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ

### ЁЯОп ржЙржжрж╛рж╣рж░ржг (PostgreSQL ржХрзЛржб):

```sql

CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name TEXT,
  class TEXT
);
```

ржПржЦрж╛ржирзЗ `student_id` ржкрзНрж░рждрж┐ржЯрж┐ ржЫрж╛рждрзНрж░рзЗрж░ ржЬржирзНржп ржЗржЙржирж┐ржХ тАУ ржПржЯрж╛ржЗ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐ред

## тЭУЁЯФЧ Foreign Key (ржлрж░рзЗржи ржХрж┐) тАУ ржПржХржЯрж╛ рж╕ржорзНржкрж░рзНржХрзЗрж░ рж╕рзЗрждрзБржмржирзНржзржи

Foreign Key ржЖрж╕рж▓рзЗ ржПржХ ржЯрзЗржмрж┐рж▓ржХрзЗ ржЖрж░рзЗржХ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржЩрзНржЧрзЗ ржпрзБржХрзНржд ржХрж░рзЗ рж░рж╛ржЦрзЗред ржПржЗ рж╕ржорзНржкрж░рзНржХрзЗрж░ ржХрж╛рж░ржгрзЗ ржЖржорж░рж╛ ржмрзБржЭрждрзЗ ржкрж╛рж░рж┐, ржХрзЗ ржХрж┐рж╕рзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХрж┐рждред

ЁЯзН ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржгрзЗ ржжрзЗржЦрж╛ ржпрж╛ржХ:
ржзрж░рзБржи ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржПржХржЯрж╛ ржЕрзНржпрж╛рж╕рж╛ржЗржиржорзЗржирзНржЯ рж▓рж┐рж╕рзНржЯ ржЖржЫрзЗ, ржпрзЗржЦрж╛ржирзЗ рж▓рзЗржЦрж╛ ржЖржЫрзЗ тАУ ржХрзЛржи ржЫрж╛рждрзНрж░ ржХрзЛржи ржЕрзНржпрж╛рж╕рж╛ржЗржиржорзЗржирзНржЯ ржЬржорж╛ ржжрж┐ржпрж╝рзЗржЫрзЗред ржПржмрж╛рж░ ржкрзНрж░рж╢рзНржи ржЖрж╕ржмрзЗ: **тАЬржПржЗ ржЫрж╛рждрзНрж░ржЯрж╛ ржХрзЗ?тАЭ**
ржЖржкржирж┐ ржпржжрж┐ ржЫрж╛рждрзНрж░ржжрзЗрж░ ржорзВрж▓ рждрж╛рж▓рж┐ржХрж╛ржпрж╝ ржпрж╛ржи (ржпрзЗржЦрж╛ржирзЗ рждрж╛ржжрзЗрж░ рж░рзЛрж▓ ржиржорзНржмрж░ ржмрж╛ ржЖржЗржбрж┐ ржЖржЫрзЗ), рждрж╛рж╣рж▓рзЗ ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗржи рж╕рзЗ ржХрзЗред
ржПржЦрж╛ржирзЗ ржЕрзНржпрж╛рж╕рж╛ржЗржиржорзЗржирзНржЯ ржЯрзЗржмрж┐рж▓рзЗ ржерж╛ржХрж╛ `student_id` ржорзВрж▓ ржЫрж╛рждрзНрж░ рждрж╛рж▓рж┐ржХрж╛рж░ `student_id` ржХрзЗ рж░рзЗржлрж╛рж░ ржХрж░ржЫрзЗ тАУ ржЖрж░ ржПржЯрж╛ржЗ Foreign Keyред

тнР ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:

- ржПржЯрж┐ ржЕржирзНржп ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐ ржмрж╛ ржЗржЙржирж┐ржХ ржнрзНржпрж╛рж▓рзБ рж░рзЗржлрж╛рж░ ржХрж░рзЗ

- ржбрзЗржЯрж╛рж░ ржоржзрзНржпрзЗ рж╕ржарж┐ржХ рж╕ржорзНржкрж░рзНржХ ржУ рж╕ржарж┐ржХрждрж╛ (data integrity) ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ

- ржПржХрж╛ржзрж┐ржХ Foreign Key ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ

## ЁЯОп ржЙржжрж╛рж╣рж░ржг (PostgreSQL ржХрзЛржб):

```sql

CREATE TABLE assignments (
  assignment_id SERIAL PRIMARY KEY,
  title TEXT,
  student_id INT,
  FOREIGN KEY (student_id) REFERENCES students(student_id)
);
```

ржПржЦрж╛ржирзЗ `student_id` рж╣ржЪрзНржЫрзЗ Foreign Key, ржпрж╛ students ржЯрзЗржмрж┐рж▓рзЗрж░ `student_id` ржХрзЗ рж░рзЗржлрж╛рж░ ржХрж░ржЫрзЗред

**ЁЯУМ ржЫрзЛржЯрзНржЯ ржХрж░рзЗ рж╕рж╛рж░рж╛ржВрж╢:**

#### ржмрж┐рж╖ржпрж╝ ржХрзА ржмрзЛржЭрж╛ржпрж╝

- Primary Key ржирж┐ржЬрзЗрж░ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржб ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржЪрзЗржирж╛ржпрж╝
- Foreign Key ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ рждржерзНржпрзЗрж░ рж╕ржЩрзНржЧрзЗ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗ

## ЁЯзб ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржорж┐рж▓ ржжрж┐рзЯрзЗ ржоржирзЗ рж░рж╛ржЦрзБржи:
| ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг | ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрж┐ | ржлрж░рзЗржи ржХрж┐ |
|--------------|--------------|----------|
| ржЖржкржирж╛рж░ ржЬрж╛рждрзАрзЯ ржкрж░рж┐ржЪрзЯржкрждрзНрж░ NID ржирж╛ржорзНржмрж╛рж░ (ржПржХржЬржирзЗрж░ ржПржХржЯрж╛ржЗ) | ржмрзНржпрж╛ржВржХрзЗрж░ ржлрж░рзНржорзЗ NID ржирж╛ржорзНржмрж╛рж░ ржЙрж▓рзНрж▓рзЗржЦ (ржЖржкржирж╛рж░ ржкрж░рж┐ржЪрзЯ ржпрж╛ржЪрж╛ржЗрзЯрзЗрж░ ржЬржирзНржп) |  |
